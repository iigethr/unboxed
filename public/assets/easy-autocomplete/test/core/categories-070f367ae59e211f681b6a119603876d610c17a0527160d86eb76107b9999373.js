QUnit.test("Simple category",function(t){function e(){var e=$("#inputOne").next().find("ul li");t.equal(4,e.length,"Response size"),t.equal("Apple",e.eq(0).find("div").text(),"First element value"),t.equal("Cherry",e.eq(1).find("div").text(),"Second element value"),t.equal("Honeydew melon",e.eq(3).find("div").text(),"Last element value"),QUnit.start()}expect(4),new EasyAutocomplete.main($("#inputOne"),{categories:[{listLocation:"fruits"}],url:"resources/categories.json",ajaxCallback:function(){e()}}).init();var n=$.Event("keyup");n.keyCode=50,$("#inputOne").val("c").trigger(n),QUnit.stop()}),QUnit.test("Simple categories - two list",function(t){function e(){var e=$("#inputOne").next().find("ul li");t.equal(8,e.length,"Response size"),t.equal("Apple",e.eq(0).find("div").text(),"First element value"),t.equal("Cherry",e.eq(1).find("div").text(),"Second element value"),t.equal("Honeydew melon",e.eq(3).find("div").text(),"Last element value"),t.equal("Jerusalem artichoke",e.eq(5).find("div").text(),"Second element value"),t.equal("Green bean",e.eq(6).find("div").text(),"Third element value - second category"),t.equal("Fennel",e.eq(7).find("div").text(),"Fourth element value - second category"),QUnit.start()}expect(7),new EasyAutocomplete.main($("#inputOne"),{categories:[{listLocation:"fruits"},{listLocation:"vegetables"}],url:"resources/categories.json",ajaxCallback:function(){e()},list:{maxNumberOfElements:8}}).init();var n=$.Event("keyup");n.keyCode=50,$("#inputOne").val("c").trigger(n),QUnit.stop()}),QUnit.test("Simple categories - two list - local data",function(e){expect(7),new EasyAutocomplete.main($("#inputOne"),{categories:[{listLocation:"fruits"},{listLocation:"vegetables"}],data:{fruits:["Apple","Cherry","Clementine","Honeydew melon","Watermelon","Satsuma"],vegetables:["Pepper","Jerusalem artichoke","Green bean","Fennel","Courgette","Yam"]},list:{maxNumberOfElements:8}}).init();var t=$.Event("keyup");t.keyCode=50,$("#inputOne").val("c").trigger(t);var n=$("#inputOne").next().find("ul li");e.equal(8,n.length,"Response size"),e.equal("Apple",n.eq(0).find("div").text(),"First element value"),e.equal("Cherry",n.eq(1).find("div").text(),"Second element value"),e.equal("Honeydew melon",n.eq(3).find("div").text(),"Last element value"),e.equal("Jerusalem artichoke",n.eq(5).find("div").text(),"Second element value"),e.equal("Green bean",n.eq(6).find("div").text(),"Third element value - second category"),e.equal("Fennel",n.eq(7).find("div").text(),"Fourth element value - second category")}),QUnit.test("Simple category - no list location",function(t){function e(){var e=$("#inputOne").next().find("ul li");t.equal(3,e.length,"Response size"),t.equal("blue",e.eq(0).find("div").text(),"First element value"),t.equal("yellow",e.eq(1).find("div").text(),"Second element value"),t.equal("brown",e.eq(2).find("div").text(),"Last element value"),QUnit.start()}expect(4),new EasyAutocomplete.main($("#inputOne"),{categories:[{getValue:"name"}],url:"resources/colors.json",ajaxCallback:function(){e()},list:{maxNumberOfElements:8}}).init();var n=$.Event("keyup");n.keyCode=50,$("#inputOne").val("c").trigger(n),QUnit.stop()}),QUnit.test("Simple category - with header",function(t){function e(){var e=$("#inputOne").next().find("ul").find(" > div, > li");t.equal(5,e.length,"Response size"),t.equal("--- FRUITS ---",e.eq(0).text(),"Header"),t.equal(!0,e.eq(0).hasClass("eac-category"),"Header - first category"),t.equal("Apple",e.eq(1).find("div").text(),"First element value"),t.equal("Cherry",e.eq(2).find("div").text(),"Second element value"),t.equal("Honeydew melon",e.eq(4).find("div").text(),"Last element value"),QUnit.start()}expect(6),new EasyAutocomplete.main($("#inputOne"),{categories:[{listLocation:"fruits",header:"--- FRUITS ---"}],url:"resources/categories.json",ajaxCallback:function(){e()},list:{maxNumberOfElements:8}}).init();var n=$.Event("keyup");n.keyCode=50,$("#inputOne").val("c").trigger(n),QUnit.stop()}),QUnit.test("Simple category - two categories, with header",function(t){function e(){var e=$("#inputOne").next().find("ul").find(" > div, > li");t.equal(10,e.length,"Response size"),t.equal("--- FRUITS ---",e.eq(0).text(),"Header - first category"),t.equal(!0,e.eq(0).hasClass("eac-category"),"Header - first category"),t.equal("Honeydew melon",e.eq(4).find("div").text(),"Last element value - first category"),t.equal("--- vegetables ---",e.eq(5).text(),"Header - second category"),t.equal(!0,e.eq(5).hasClass("eac-category"),"Header - second category"),t.equal("Pepper",e.eq(6).find("div").text(),"First element value - second category"),QUnit.start()}expect(7),new EasyAutocomplete.main($("#inputOne"),{categories:[{listLocation:"fruits",header:"--- FRUITS ---"},{listLocation:"vegetables",header:"--- vegetables ---"}],url:"resources/categories.json",ajaxCallback:function(){e()},list:{maxNumberOfElements:8}}).init();var n=$.Event("keyup");n.keyCode=50,$("#inputOne").val("c").trigger(n),QUnit.stop()}),QUnit.test("Category - data as objects list",function(t){function e(){var e=$("#inputOne").next().find("ul li");t.equal(4,e.length,"Response size"),t.equal("Apple",e.eq(0).find("div").text(),"First element value"),t.equal("Cherry",e.eq(1).find("div").text(),"Second element value"),t.equal("Honeydew melon",e.eq(3).find("div").text(),"Last element value"),QUnit.start()}expect(4),new EasyAutocomplete.main($("#inputOne"),{categories:[{listLocation:"fruits"}],getValue:"name",url:"resources/categories/fruits.json",ajaxCallback:function(){e()},list:{maxNumberOfElements:8}}).init();var n=$.Event("keyup");n.keyCode=50,$("#inputOne").val("c").trigger(n),QUnit.stop()}),QUnit.test("Category - data as objects list - two different list",function(t){function e(){var e=$("#inputOne").next().find("ul li");t.equal(8,e.length,"Response size"),t.equal("Apple",e.eq(0).find("div").text(),"First element value"),t.equal("Cherry",e.eq(1).find("div").text(),"Second element value"),t.equal("Honeydew melon",e.eq(3).find("div").text(),"Last element value"),t.equal("Jerusalem artichoke",e.eq(5).find("div").text(),"First element value - second category"),t.equal("Green bean",e.eq(6).find("div").text(),"Second element value - second category"),t.equal("Fennel",e.eq(7).find("div").text(),"Last element value - second category"),QUnit.start()}expect(7),new EasyAutocomplete.main($("#inputOne"),{categories:[{listLocation:"fruits",getValue:"name"},{listLocation:"vegetables",getValue:function(e){return e.text}}],url:"resources/categories/fruits.json",ajaxCallback:function(){e()},list:{maxNumberOfElements:8}}).init();var n=$.Event("keyup");n.keyCode=50,$("#inputOne").val("c").trigger(n),QUnit.stop()}),QUnit.test("Category - xml - simple",function(t){function e(){var e=$("#inputOne").next().find("ul").find(" > div, > li");t.equal(5,e.length,"Response size"),t.equal("colors",e.eq(0).text(),"Header - first category"),t.equal("red",e.eq(1).find("div").text(),"First element value"),t.equal("green",e.eq(2).find("div").text(),"Second element value"),t.equal("blue",e.eq(3).find("div").text(),"Last element value"),t.equal("pink",e.eq(4).find("div").text(),"Last element value"),QUnit.start()}expect(6),new EasyAutocomplete.main($("#inputOne"),{categories:[{header:"colors"}],dataType:"xml",xmlElementName:"color",url:"resources/colors.xml",ajaxCallback:function(){e()}}).init();var n=$.Event("keyup");n.keyCode=50,$("#inputOne").val("c").trigger(n),QUnit.stop()}),QUnit.test("Category - xml - one list",function(t){function e(){var e=$("#inputOne").next().find("ul li");t.equal(4,e.length,"Response size"),t.equal("Apple",e.eq(0).find("div").text(),"First element value"),t.equal("Cherry",e.eq(1).find("div").text(),"Second element value"),t.equal("Honeydew melon",e.eq(3).find("div").text(),"Last element value"),QUnit.start()}expect(4),new EasyAutocomplete.main($("#inputOne"),{categories:[{header:"xml - fruits",listLocation:"fruits"}],getValue:function(e){return $(e).find("name").text()},dataType:"xml",xmlElementName:"fruit",url:"resources/categories/fruits.xml",ajaxCallback:function(){e()}}).init();var n=$.Event("keyup");n.keyCode=50,$("#inputOne").val("c").trigger(n),QUnit.stop()}),QUnit.test("Category - xml - two list",function(t){function e(){var e=$("#inputOne").next().find("ul li");t.equal(8,e.length,"Response size"),t.equal("Apple",e.eq(0).find("div").text(),"First element value"),t.equal("Cherry",e.eq(1).find("div").text(),"Second element value"),t.equal("Honeydew melon",e.eq(3).find("div").text(),"Last element value"),t.equal("Carrot",e.eq(4).find("div").text(),"First element value"),t.equal("Tomato",e.eq(5).find("div").text(),"Second element value"),t.equal("Cucamber",e.eq(7).find("div").text(),"Last element value"),QUnit.start()}expect(7),new EasyAutocomplete.main($("#inputOne"),{categories:[{header:"xml - fruits",listLocation:"fruits",xmlElementName:"fruit"},{header:"xml - vegetables",listLocation:"vegetables",xmlElementName:"vegetable"}],getValue:function(e){return $(e).find("name").text()},dataType:"xml",xmlElementName:"fruit",url:"resources/categories/fruits.xml",ajaxCallback:function(){e()},list:{maxNumberOfElements:8}}).init();var n=$.Event("keyup");n.keyCode=50,$("#inputOne").val("c").trigger(n),QUnit.stop()}),QUnit.test("Category and processData - sort",function(t){function e(){var e=$("#inputOne").next().find("ul").find(" > div, > li");t.equal(10,e.length,"Response size"),t.equal("--- FRUITS ---",e.eq(0).text(),"Header - first category"),t.equal("Apple",e.eq(1).find("div").text(),"Apple element value - first category"),t.equal("Cherry",e.eq(2).find("div").text(),"Cherry element value - first category"),t.equal("Clementine",e.eq(3).find("div").text(),"Clementine element value - first category"),t.equal("Honeydew melon",e.eq(4).find("div").text(),"Honeydew melon element value - first category"),t.equal("--- vegetables ---",e.eq(5).text(),"Header - second category"),t.equal("Fennel",e.eq(6).find("div").text(),"Courgette element value - second category"),t.equal("Green bean",e.eq(7).find("div").text(),"Fennel element value - second category"),QUnit.start()}expect(9),new EasyAutocomplete.main($("#inputOne"),{categories:[{listLocation:"fruits",header:"--- FRUITS ---"},{listLocation:"vegetables",header:"--- vegetables ---"}],url:"resources/categories.json",list:{sort:{enabled:!0},maxNumberOfElements:8},ajaxCallback:function(){e()}}).init();var n=$.Event("keyup");n.keyCode=50,$("#inputOne").val("c").trigger(n),QUnit.stop()}),QUnit.test("Category and processData - match",function(t){function e(){var e=$("#inputOne").next().find("ul").find(" > div, > li");t.equal(8,e.length,"Response size"),t.equal("--- FRUITS ---",e.eq(0).text(),"Header - first category"),t.equal("Apple",e.eq(1).find("div").text(),"Apple element value - first category"),t.equal("Watermelon",e.eq(2).find("div").text(),"Watermelon element value - first category"),t.equal("Satsuma",e.eq(3).find("div").text(),"Satsuma element value - first category"),t.equal("--- vegetables ---",e.eq(4).text(),"Header - second category"),t.equal("Jerusalem artichoke",e.eq(5).find("div").text(),"Jerusalem artichoke element value - second category"),t.equal("Green bean",e.eq(6).find("div").text(),"Green bean element value - second category"),t.equal("Yam",e.eq(7).find("div").text(),"Yam element value - second category"),QUnit.start()}expect(9),new EasyAutocomplete.main($("#inputOne"),{categories:[{listLocation:"fruits",header:"--- FRUITS ---"},{listLocation:"vegetables",header:"--- vegetables ---"}],url:"resources/categories.json",list:{match:{enabled:!0}},ajaxCallback:function(){e()}}).init();var n=$.Event("keyup");n.keyCode=50,$("#inputOne").val("a").trigger(n),QUnit.stop()}),QUnit.test("Category and processData - maxNumberOfElements - default",function(t){function e(){var e=$("#inputOne").next().find("ul").find(" > div, > li");t.equal(8,e.length,"Response size"),t.equal("--- FRUITS ---",e.eq(0).text(),"Header - first category"),t.equal("Apple",e.eq(1).find("div").text(),"Apple element value - first category"),t.equal("Cherry",e.eq(2).find("div").text(),"Cherry element value - first category"),t.equal("Clementine",e.eq(3).find("div").text(),"Clementine element value - first category"),t.equal("Honeydew melon",e.eq(4).find("div").text(),"Honeydew melon element value - first category"),t.equal("--- vegetables ---",e.eq(5).text(),"Header - second category"),t.equal("Pepper",e.eq(6).find("div").text(),"Pepper element value - second category"),t.equal("Jerusalem artichoke",e.eq(7).find("div").text(),"Jerusalem artichoke element value - second category"),QUnit.start()}expect(9),new EasyAutocomplete.main($("#inputOne"),{categories:[{listLocation:"fruits",header:"--- FRUITS ---"},{listLocation:"vegetables",header:"--- vegetables ---"}],url:"resources/categories.json",list:{maxNumberOfElements:6},ajaxCallback:function(){e()}}).init();var n=$.Event("keyup");n.keyCode=50,$("#inputOne").val("a").trigger(n),QUnit.stop()}),QUnit.test("Category and processData - maxNumberOfElements - specified - list size default",function(t){function e(){var e=$("#inputOne").next().find("ul").find(" > div, > li");t.equal(7,e.length,"Response size"),t.equal("--- FRUITS ---",e.eq(0).text(),"Header - first category"),t.equal("Apple",e.eq(1).find("div").text(),"Apple element value - first category"),t.equal("Cherry",e.eq(2).find("div").text(),"Cherry element value - first category"),t.equal("--- vegetables ---",e.eq(3).text(),"Header - second category"),t.equal("Pepper",e.eq(4).find("div").text(),"Pepper element value - second category"),t.equal("Jerusalem artichoke",e.eq(5).find("div").text(),"Jerusalem artichoke element value - second category"),t.equal("Green bean",e.eq(6).find("div").text(),"Green bean element value - second category"),QUnit.start()}expect(8),new EasyAutocomplete.main($("#inputOne"),{categories:[{listLocation:"fruits",header:"--- FRUITS ---",maxNumberOfElements:2},{listLocation:"vegetables",header:"--- vegetables ---",maxNumberOfElements:3}],url:"resources/categories.json",ajaxCallback:function(){e()}}).init();var n=$.Event("keyup");n.keyCode=50,$("#inputOne").val("a").trigger(n),QUnit.stop()}),QUnit.test("Category and processData - maxNumberOfElements - specified - list size specified",function(t){function e(){var e=$("#inputOne").next().find("ul").find(" > div, > li");t.equal(6,e.length,"Response size"),t.equal("--- FRUITS ---",e.eq(0).text(),"Header - first category"),t.equal("Apple",e.eq(1).find("div").text(),"Apple element value - first category"),t.equal("Cherry",e.eq(2).find("div").text(),"Cherry element value - first category"),t.equal("--- vegetables ---",e.eq(3).text(),"Header - second category"),t.equal("Pepper",e.eq(4).find("div").text(),"Pepper element value - second category"),t.equal("Jerusalem artichoke",e.eq(5).find("div").text(),"Jerusalem artichoke element value - second category"),QUnit.start()}expect(7),new EasyAutocomplete.main($("#inputOne"),{categories:[{listLocation:"fruits",header:"--- FRUITS ---",maxNumberOfElements:2},{listLocation:"vegetables",header:"--- vegetables ---",maxNumberOfElements:3}],url:"resources/categories.json",list:{maxNumberOfElements:4},ajaxCallback:function(){e()}}).init();var n=$.Event("keyup");n.keyCode=50,$("#inputOne").val("a").trigger(n),QUnit.stop()}),QUnit.test("Categories - when list ist empty, header should be hidden",function(e){expect(5),new EasyAutocomplete.main($("#inputOne"),{categories:[{listLocation:"fruits"},{listLocation:"vegetables",header:"--- vegetables ---"}],data:{fruits:[],vegetables:["Pepper","Jerusalem artichoke","Green bean","Fennel","Courgette","Yam"]}}).init();var t=$.Event("keyup");t.keyCode=50,$("#inputOne").val("c").trigger(t);var n=$("#inputOne").next().find("ul").find(" > div, > li");e.equal(5,n.length,"Response size"),e.equal("--- vegetables ---",n.eq(0).text(),"Header - second category"),e.equal("Pepper",n.eq(1).find("div").text(),"First element value - second category"),e.equal("Jerusalem artichoke",n.eq(2).find("div").text(),"Second element value - second category"),e.equal("Green bean",n.eq(3).find("div").text(),"Last element value - second category")});