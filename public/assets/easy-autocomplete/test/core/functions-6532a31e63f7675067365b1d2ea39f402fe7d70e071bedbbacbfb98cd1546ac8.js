QUnit.test("getSelectedItemIndex - no selected item",function(e){$("#inputOne").easyAutocomplete({data:["black","white","magenta","yellow"]});var t=$.Event("keyup");t.keyCode=50,$("#inputOne").val("more").trigger(t);var n=$("#inputOne").next().find("ul li"),i=$("#inputOne").getSelectedItemIndex();e.equal(4,n.length,"Response size"),e.equal(-1,i,"getSelectedItemIndex returns actual item after mouseover"),expect(2)}),QUnit.test("getSelectedItemIndex - input with id",function(e){$("#inputOne").easyAutocomplete({data:["black","white","magenta","yellow"]});var t=$.Event("keyup");t.keyCode=50,$("#inputOne").val("more").trigger(t);var n=$("#inputOne").getSelectedItemIndex();$("#inputOne").next().find("ul li").eq(1).find(" > div").trigger("mouseover");var i=$("#inputOne").getSelectedItemIndex(),l=$("#inputOne").next().find("ul li");e.equal(4,l.length,"Response size"),e.equal(!1,l.eq(0).hasClass("selected"),"First element is not selected"),e.equal(!0,l.eq(1).hasClass("selected"),"Second element is selected"),e.equal(!1,l.eq(2).hasClass("selected"),"Third element is not selected"),e.equal(!1,l.eq(3).hasClass("selected"),"Fourth element is not selected"),e.equal(-1,n,"getSelectedItemIndex returns actual item before mouseover"),e.equal(1,i,"getSelectedItemIndex returns actual item after mouseover"),expect(7)}),QUnit.test("getSelectedItemIndex - input with no id",function(e){$(".inputOne").easyAutocomplete({data:["black","white","magenta","yellow"]});var t=$.Event("keyup");t.keyCode=50,$(".inputOne").val("more").trigger(t);var n=$(".inputOne").getSelectedItemIndex();$(".inputOne").next().find("ul li").eq(1).find(" > div").trigger("mouseover");var i=$(".inputOne").getSelectedItemIndex(),l=$(".inputOne").next().find("ul li");e.equal(4,l.length,"Response size"),e.equal(!1,l.eq(0).hasClass("selected"),"First element is not selected"),e.equal(!0,l.eq(1).hasClass("selected"),"Second element is selected"),e.equal(!1,l.eq(2).hasClass("selected"),"Third element is not selected"),e.equal(!1,l.eq(3).hasClass("selected"),"Fourth element is not selected"),e.equal(-1,n,"getSelectedItemIndex returns actual item before mouseover"),e.equal(1,i,"getSelectedItemIndex returns actual item after mouseover"),expect(7)}),QUnit.test("getSelectedItemIndex - input with id - click trigger",function(e){$("#inputOne").easyAutocomplete({data:["black","white","magenta","yellow"]});var t=$.Event("keyup");t.keyCode=50,$("#inputOne").val("more").trigger(t);var n=$("#inputOne").getSelectedItemIndex();$("#inputOne").next().find("ul li").eq(1).find(" > div").trigger("click");var i=$("#inputOne").getSelectedItemIndex(),l=$("#inputOne").next().find("ul li");e.equal(4,l.length,"Response size"),e.equal(!1,l.eq(0).hasClass("selected"),"First element is not selected"),e.equal(!0,l.eq(1).hasClass("selected"),"Second element is selected"),e.equal(!1,l.eq(2).hasClass("selected"),"Third element is not selected"),e.equal(!1,l.eq(3).hasClass("selected"),"Fourth element is not selected"),e.equal(-1,n,"getSelectedItemIndex returns actual item before click"),e.equal(1,i,"getSelectedItemIndex returns actual item after click"),expect(7)}),QUnit.test("getSelectedItemIndex - input with id - arrowDown trigger",function(e){$("#inputOne").easyAutocomplete({data:["black","white","magenta","yellow"]});var t=$.Event("keyup");t.keyCode=50,$("#inputOne").val("more").trigger(t);var n=$("#inputOne").getSelectedItemIndex();t.keyCode=40,$("#inputOne").trigger(t),$("#inputOne").trigger(t),$("#inputOne").trigger(t);var i=$("#inputOne").getSelectedItemIndex(),l=$("#inputOne").next().find("ul li");e.equal(4,l.length,"Response size"),e.equal(!1,l.eq(0).hasClass("selected"),"First element is not selected"),e.equal(!1,l.eq(1).hasClass("selected"),"Second element is not selected"),e.equal(!0,l.eq(2).hasClass("selected"),"Third element is selected"),e.equal(!1,l.eq(3).hasClass("selected"),"Fourth element is not selected"),e.equal(-1,n,"getSelectedItemIndex returns actual item before click"),e.equal(2,i,"getSelectedItemIndex returns actual item after click"),expect(7)}),QUnit.test("getSelectedItemIndex - input with id - arrowDown/arrowUp mixin",function(e){$("#inputOne").easyAutocomplete({data:["black","white","magenta","yellow"]});var t=$.Event("keyup");t.keyCode=50,$("#inputOne").val("more").trigger(t);var n=$("#inputOne").getSelectedItemIndex();t.keyCode=40,$("#inputOne").trigger(t),$("#inputOne").trigger(t),$("#inputOne").trigger(t),$("#inputOne").trigger(t),t.keyCode=38,$("#inputOne").trigger(t);var i=$("#inputOne").getSelectedItemIndex(),l=$("#inputOne").next().find("ul li");e.equal(4,l.length,"Response size"),e.equal(!1,l.eq(0).hasClass("selected"),"First element is not selected"),e.equal(!1,l.eq(1).hasClass("selected"),"Second element is not selected"),e.equal(!0,l.eq(2).hasClass("selected"),"Third element is selected"),e.equal(!1,l.eq(3).hasClass("selected"),"Fourth element is not selected"),e.equal(-1,n,"getSelectedItemIndex returns actual item before click"),e.equal(2,i,"getSelectedItemIndex returns actual item after click"),expect(7)}),QUnit.test("getSelectedItemIndex - response - on onLoadEvent",function(i){$("#inputOne").easyAutocomplete({url:"resources/colors_string.json",list:{onLoadEvent:function(){var e=$("#inputOne").getSelectedItemIndex();l.keyCode=40,$("#inputOne").trigger(l),$("#inputOne").trigger(l),$("#inputOne").trigger(l),$("#inputOne").trigger(l),l.keyCode=38,$("#inputOne").trigger(l);var t=$("#inputOne").getSelectedItemIndex(),n=$("#inputOne").next().find("ul li");i.equal(3,n.length,"Response size"),i.equal(!1,n.eq(0).hasClass("selected"),"First element is not selected"),i.equal(!0,n.eq(1).hasClass("selected"),"Second element is selected"),i.equal(!1,n.eq(2).hasClass("selected"),"Third element is not selected"),i.equal(-1,e,"getSelectedItemIndex returns actual item before click"),i.equal(1,t,"getSelectedItemIndex returns actual item after click"),QUnit.start()}}});var l=$.Event("keyup");l.keyCode=50,$("#inputOne").val("more").trigger(l),QUnit.stop(),expect(6)}),QUnit.test("getSelectedItemIndex - response - on onSelectItemEvent",function(n){$("#inputOne").easyAutocomplete({url:"resources/colors_string.json",list:{onLoadEvent:function(){$("#inputOne").next().find("ul li").eq(1).find(" > div").trigger("click")},onSelectItemEvent:function(){var e=$("#inputOne").getSelectedItemIndex(),t=$("#inputOne").next().find("ul li");n.equal(3,t.length,"Response size"),n.equal(!1,t.eq(0).hasClass("selected"),"First element is not selected"),n.equal(!0,t.eq(1).hasClass("selected"),"Second element is selected"),n.equal(!1,t.eq(2).hasClass("selected"),"Third element is not selected"),n.equal(1,e,"getSelectedItemIndex returns actual item after click"),QUnit.start()}}});var e=$.Event("keyup");e.keyCode=50,$("#inputOne").val("more").trigger(e),QUnit.stop(),expect(5)}),QUnit.test("getSelectedItemIndex - XML",function(n){var e=function(e){return $(e).find("name").text()};$("#inputOne").easyAutocomplete({url:"resources/colors_object.xml",dataType:"xml",xmlElementName:"color",getValue:e,list:{onLoadEvent:function(){$("#inputOne").next().find("ul li").eq(1).find(" > div").trigger("click")},onSelectItemEvent:function(){var e=$("#inputOne").getSelectedItemIndex(),t=$("#inputOne").next().find("ul li");n.equal(4,t.length,"Response size"),n.equal(!1,t.eq(0).hasClass("selected"),"First element is not selected"),n.equal(!0,t.eq(1).hasClass("selected"),"Second element is selected"),n.equal(!1,t.eq(2).hasClass("selected"),"Third element is not selected"),n.equal(!1,t.eq(2).hasClass("selected"),"Fourth element is not selected"),n.equal(1,e,"getSelectedItemIndex returns actual item after click"),QUnit.start()}}});var t=$.Event("keyup");t.keyCode=50,$("#inputOne").val("re").trigger(t),QUnit.stop(),expect(6)}),QUnit.test("getSelectedItemIndex - response - two different easyAutocomplete instances",function(e){$("#inputOne").easyAutocomplete({url:"resources/colors_string.json",list:{onLoadEvent:function(){$("#inputOne").next().find("ul li").eq(1).find(" > div").trigger("click")}}}),$(".inputOne").easyAutocomplete({url:"resources/colors_string.json",list:{onLoadEvent:function(){$(".inputOne").next().find("ul li").eq(2).find(" > div").trigger("click")},onSelectItemEvent:function(){e.equal(1,$("#inputOne").getSelectedItemIndex(),"getSelectedItemIndex from #inputOne"),e.equal(2,$(".inputOne").getSelectedItemIndex(),"getSelectedItemIndex .inputOne"),QUnit.start()}}});var t=$.Event("keyup");t.keyCode=50,$("#inputOne").val("more").trigger(t),$(".inputOne").val("more").trigger(t),QUnit.stop(),expect(2)}),QUnit.test("getSelectedItemIndex should work with categories",function(e){$("#inputOne").easyAutocomplete({categories:[{listLocation:"fruits"},{listLocation:"vegetables"}],url:"resources/categories.json",list:{onLoadEvent:function(){$("#inputOne").next().find("ul li").eq(4).find(" > div").trigger("click")},onSelectItemEvent:function(){e.equal(4,$("#inputOne").getSelectedItemIndex(),"second fruit selected"),QUnit.start()}}});var t=$.Event("keyup");t.keyCode=50,$("#inputOne").val("more").trigger(t),QUnit.stop(),expect(1)}),QUnit.test("getItems - simple data",function(e){var t=["black","star"],n=($("#inputOne").easyAutocomplete({data:t}),$.Event("keyup"));n.keyCode=50,$("#inputOne").val("more").trigger(n),e.equal(t.length,$("#inputOne").getItems().length,"should return the items length"),e.deepEqual(t,$("#inputOne").getItems(),"should return the items"),expect(2)}),QUnit.test("getItems - json data",function(t){$("#inputOne").easyAutocomplete({url:"resources/colors_object.json",getValue:function(e){return e.name},list:{onLoadEvent:function(){var e=$("#inputOne").getItems();t.deepEqual(n,e,"should return the items"),QUnit.start()}}});var n=[{name:"red"},{name:"yellow"},{name:"brown"}],e=$.Event("keyup");e.keyCode=50,$("#inputOne").val("more").trigger(e),QUnit.stop(),expect(1)}),QUnit.test("getItems should work with categories",function(t){$("#inputOne").easyAutocomplete({categories:[{listLocation:"fruits"},{listLocation:"vegetables"}],url:"resources/categories.json",list:{onLoadEvent:function(){var e=$("#inputOne").getItems();t.deepEqual(expectedCategories,e,"should return the items"),QUnit.start()}}}),expectedCategories=["Apple","Cherry","Clementine","Honeydew melon","Pepper","Jerusalem artichoke"];var e=$.Event("keyup");e.keyCode=50,$("#inputOne").val("more").trigger(e),QUnit.stop(),expect(1)}),QUnit.test("getItemData - simple data",function(e){var t=["black","white","magenta","yellow"],n=($("#inputOne").easyAutocomplete({data:t}),$.Event("keyup"));n.keyCode=50,$("#inputOne").val("more").trigger(n),e.equal(t[0],$("#inputOne").getItemData(0),"first element"),e.equal(t[1],$("#inputOne").getItemData(1),"second element"),e.equal(t[2],$("#inputOne").getItemData(2),"third element"),e.equal(t[3],$("#inputOne").getItemData(3),"fourth element"),e.equal(-1,$("#inputOne").getItemData(4),"not exist"),e.equal(-1,$("#inputOne").getItemData(-1),"not exist"),e.equal(-1,$("#inputOne").getItemData("not exist"),"fnot exist"),expect(7)}),QUnit.test("getItemData - json data",function(e){$("#inputOne").easyAutocomplete({url:"resources/colors_object.json",getValue:function(e){return e.name},list:{onLoadEvent:function(){e.equal("red",$("#inputOne").getItemData(0).name,"first element"),e.equal("yellow",$("#inputOne").getItemData(1).name,"second element"),e.equal("brown",$("#inputOne").getItemData(2).name,"third element"),e.equal(-1,$("#inputOne").getItemData(4),"not exist"),e.equal(-1,$("#inputOne").getItemData(-1),"not exist"),e.equal(-1,$("#inputOne").getItemData("not exist"),"fnot exist"),QUnit.start()}}});var t=$.Event("keyup");t.keyCode=50,$("#inputOne").val("more").trigger(t),QUnit.stop(),expect(6)}),QUnit.test("getItemData should work with categories",function(e){$("#inputOne").easyAutocomplete({categories:[{listLocation:"fruits"},{listLocation:"vegetables"}],url:"resources/categories.json",list:{onLoadEvent:function(){e.equal("Apple",$("#inputOne").getItemData(0),"first element"),e.equal("Cherry",$("#inputOne").getItemData(1),"second element"),e.equal("Clementine",$("#inputOne").getItemData(2),"third element"),e.equal("Pepper",$("#inputOne").getItemData(4),"first element"),e.equal("Jerusalem artichoke",$("#inputOne").getItemData(5),"second element"),e.equal(-1,$("#inputOne").getItemData(12),"not exist"),e.equal(-1,$("#inputOne").getItemData(-1),"not exist"),e.equal(-1,$("#inputOne").getItemData("not exist"),"fnot exist"),QUnit.start()}}});var t=$.Event("keyup");t.keyCode=50,$("#inputOne").val("more").trigger(t),QUnit.stop(),expect(8)}),QUnit.test("getItemData - XML",function(e){var t=function(e){return $(e).find("name").text()};$("#inputOne").easyAutocomplete({url:"resources/colors_object.xml",dataType:"xml",xmlElementName:"color",getValue:t,list:{onLoadEvent:function(){e.equal("red",t($("#inputOne").getItemData(0)),"first element"),e.equal("green",t($("#inputOne").getItemData(1)),"second element"),e.equal("blue",t($("#inputOne").getItemData(2)),"third element"),e.equal("pink",t($("#inputOne").getItemData(3)),"first element"),e.equal(-1,$("#inputOne").getItemData(4),"not exist"),e.equal(-1,$("#inputOne").getItemData(-1),"not exist"),e.equal(-1,$("#inputOne").getItemData("not exist"),"fnot exist"),QUnit.start()}}});var n=$.Event("keyup");n.keyCode=50,$("#inputOne").val("re").trigger(n),QUnit.stop(),expect(7)}),QUnit.test("getItemData - two different easyAutocomplete instances",function(e){$("#inputOne").easyAutocomplete({url:"resources/colors.json",getValue:"name"}),$(".inputOne").easyAutocomplete({url:"resources/colors_string.json",list:{onLoadEvent:function(){e.equal("blue",$("#inputOne").getItemData(0).name,"first element - first instance"),e.equal("red",$(".inputOne").getItemData(0),"first element - Second instance"),QUnit.start()}}});var t=$.Event("keyup");t.keyCode=50,$("#inputOne").val("more").trigger(t),$(".inputOne").val("more").trigger(t),QUnit.stop(),expect(2)}),QUnit.test("getSelectedItemData - no selected item",function(e){$("#inputOne").easyAutocomplete({data:["black","white","magenta","yellow"]});var t=$.Event("keyup");t.keyCode=50,$("#inputOne").val("more").trigger(t);var n=$("#inputOne").next().find("ul li"),i=$("#inputOne").getSelectedItemData();e.equal(4,n.length,"Response size"),e.equal(-1,i,"getSelectedItemData returns actual item data"),expect(2)}),QUnit.test("getSelectedItemData - local data",function(e){$("#inputOne").easyAutocomplete({data:["black","white","magenta","yellow"]});var t=$.Event("keyup");t.keyCode=50,$("#inputOne").val("more").trigger(t),$("#inputOne").next().find("ul li").eq(1).find(" > div").trigger("mouseover");var n=$("#inputOne").getSelectedItemData(),i=$("#inputOne").next().find("ul li");e.equal(4,i.length,"Response size"),e.equal("white",n,"getSelectedItemData returns actual item data"),expect(2)}),QUnit.test("getSelectedItemData - response json",function(n){var i={name:"yellow"},e=($("#inputOne").easyAutocomplete({url:"resources/colors_object.json",getValue:"name",list:{onLoadEvent:function(){$("#inputOne").getSelectedItemIndex();$("#inputOne").next().find("ul li").eq(1).find(" > div").trigger("mouseover");var e=$("#inputOne").getSelectedItemData(),t=$("#inputOne").next().find("ul li");n.equal(3,t.length,"Response size"),n.ok(i.name===e.name,"getSelectedItemIndex returns actual item data"),QUnit.start()}}}),$.Event("keyup"));e.keyCode=50,$("#inputOne").val("more").trigger(e),QUnit.stop(),expect(2)}),QUnit.test("getSelectedItemData should work with categories",function(e){$("#inputOne").easyAutocomplete({categories:[{listLocation:"fruits"},{listLocation:"vegetables"}],url:"resources/categories.json",list:{onLoadEvent:function(){$("#inputOne").next().find("ul li").eq(5).find(" > div").trigger("click")},onSelectItemEvent:function(){e.equal("Jerusalem artichoke",$("#inputOne").getSelectedItemData(),"second fruit selected"),QUnit.start()}}});var t=$.Event("keyup");t.keyCode=50,$("#inputOne").val("more").trigger(t),QUnit.stop(),expect(1)}),QUnit.test("getSelectedItemData - XML",function(n){var i=function(e){return $(e).find("name").text()};$("#inputOne").easyAutocomplete({url:"resources/colors_object.xml",dataType:"xml",xmlElementName:"color",getValue:i,list:{onLoadEvent:function(){$("#inputOne").next().find("ul li").eq(1).find(" > div").trigger("click")},onSelectItemEvent:function(){var e=$("#inputOne").getSelectedItemData(),t=$("#inputOne").next().find("ul li");n.equal(4,t.length,"Response size"),n.equal("green",i(e),"getSelectedItemData returns actual item after click"),QUnit.start()}}});var e=$.Event("keyup");e.keyCode=50,$("#inputOne").val("re").trigger(e),QUnit.stop(),expect(2)}),QUnit.test("getSelectedItemData - response - two different easyAutocomplete instances",function(e){$("#inputOne").easyAutocomplete({url:"resources/colors_string.json",list:{onLoadEvent:function(){$("#inputOne").next().find("ul li").eq(1).find(" > div").trigger("click")}}}),$(".inputOne").easyAutocomplete({url:"resources/colors_string.json",list:{onLoadEvent:function(){$(".inputOne").next().find("ul li").eq(2).find(" > div").trigger("click")},onSelectItemEvent:function(){e.equal("yellow",$("#inputOne").getSelectedItemData(),"getSelectedItemData from #inputOne"),e.equal("brown",$(".inputOne").getSelectedItemData(),"getSelectedItemData .inputOne"),QUnit.start()}}});var t=$.Event("keyup");t.keyCode=50,$("#inputOne").val("more").trigger(t),$(".inputOne").val("more").trigger(t),QUnit.stop(),expect(2)});